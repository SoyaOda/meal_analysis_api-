{
  "dishes": [
    {
      "dish_name": "Meatloaf",
      "type": "Main course",
      "quantity_on_plate": "2 slices",
      "estimated_total_dish_weight_g": 220.0,
      "actual_weight_used_for_calculation_g": 220.0,
      "weight_calculation_method": "ingredient_level戦略により材料重量合計を使用: 220.0g",
      "calculation_strategy": "ingredient_level",
      "reason_for_strategy": "Meatloaf composition can vary significantly; ingredient-level calculation allows for more precise nutrient estimation based on common components.",
      "fdc_id": 0,
      "usda_source_description": null,
      "reason_for_choice": null,
      "key_nutrients_per_100g": null,
      "ingredients": [
        {
          "ingredient_name": "Ground beef",
          "weight_g": 180.0,
          "fdc_id": 0,
          "usda_source_description": "null",
          "reason_for_choice": "No compositionally appropriate FDC ID found in the provided USDA candidate list for 'Ground beef'. All branded candidates were for raw ground beef, not cooked, and other candidates were from incompatible food categories: 'Margarine-like, vegetable oil spread'. Expected category: 'Cooked ground beef'. Nutritional data for this ingredient will be missing to maintain accuracy.",
          "key_nutrients_per_100g": null,
          "actual_nutrients": null
        },
        {
          "ingredient_name": "Breadcrumbs",
          "weight_g": 10.0,
          "fdc_id": 174928,
          "usda_source_description": "Bread, crumbs, dry, grated, plain",
          "reason_for_choice": "Selected FDC ID 174928 (Bread, crumbs, dry, grated, plain) because: (1) It is an SR Legacy entry, which is highly reliable for basic ingredients. (2) It perfectly matches the query 'Bread crumbs, dry, grated, plain' and the observed ingredient. (3) Its description aligns with the typical use of breadcrumbs as a binder in meatloaf. (4) No other candidates offered a better compositional match or data quality.",
          "key_nutrients_per_100g": {
            "calories_kcal": 395.0,
            "protein_g": 13.35,
            "fat_g": 5.3,
            "carbohydrates_g": 71.98,
            "fiber_g": 4.5,
            "sugars_g": 6.2,
            "sodium_mg": 732.0
          },
          "actual_nutrients": {
            "calories_kcal": 39.5,
            "protein_g": 1.33,
            "carbohydrates_g": 7.2,
            "fat_g": 0.53,
            "fiber_g": 0.45,
            "sugars_g": 0.62,
            "sodium_mg": 73.2
          }
        },
        {
          "ingredient_name": "Egg",
          "weight_g": 10.0,
          "fdc_id": 173424,
          "usda_source_description": "Egg, whole, cooked, hard-boiled",
          "reason_for_choice": "Selected FDC ID 173424 (Egg, whole, cooked, hard-boiled) because: (1) It is an SR Legacy entry, indicating high data quality for a basic food item. (2) It is a direct and precise match for the query 'Egg, whole, cooked, hard-boiled', which is the form of egg typically used as a binder in cooked dishes like meatloaf. (3) Other candidates were either branded items that were not specific enough or irrelevant (e.g., chocolate eggs, plant-based substitutes).",
          "key_nutrients_per_100g": {
            "calories_kcal": 155.0,
            "protein_g": 12.58,
            "fat_g": 10.61,
            "carbohydrates_g": 1.12,
            "fiber_g": 0.0,
            "sugars_g": 1.12,
            "sodium_mg": 124.0
          },
          "actual_nutrients": {
            "calories_kcal": 15.5,
            "protein_g": 1.26,
            "carbohydrates_g": 0.11,
            "fat_g": 1.06,
            "fiber_g": 0.0,
            "sugars_g": 0.11,
            "sodium_mg": 12.4
          }
        },
        {
          "ingredient_name": "Onion",
          "weight_g": 5.0,
          "fdc_id": 170000,
          "usda_source_description": "Onions, raw",
          "reason_for_choice": "Selected FDC ID 170000 (Onions, raw) because: (1) It is an SR Legacy entry, providing high-quality data for a basic vegetable. (2) It is the most generic and direct match for 'Onions, raw', which is the state onions are typically added to meatloaf before cooking. (3) While other specific onion types (red, yellow, sweet) were available, 'Onions, raw' is broadly representative and accurate for the context.",
          "key_nutrients_per_100g": {
            "calories_kcal": 40.0,
            "protein_g": 1.1,
            "fat_g": 0.1,
            "carbohydrates_g": 9.34,
            "fiber_g": 1.7,
            "sugars_g": 4.24,
            "sodium_mg": 4.0
          },
          "actual_nutrients": {
            "calories_kcal": 2.0,
            "protein_g": 0.06,
            "carbohydrates_g": 0.47,
            "fat_g": 0.01,
            "fiber_g": 0.09,
            "sugars_g": 0.21,
            "sodium_mg": 0.2
          }
        },
        {
          "ingredient_name": "Ketchup",
          "weight_g": 15.0,
          "fdc_id": 747693,
          "usda_source_description": "Ketchup, restaurant",
          "reason_for_choice": "Selected FDC ID 747693 (Ketchup, restaurant) because: (1) It is a Foundation data type, which is excellent for common, generic food items. (2) It represents a standard, generic ketchup, which is appropriate for a topping on meatloaf. (3) While many branded ketchup options were available, this Foundation entry provides a robust, non-brand-specific nutritional profile that is compositionally accurate for typical ketchup.",
          "key_nutrients_per_100g": {
            "calories_kcal": 117.0,
            "protein_g": 1.11,
            "fat_g": 0.55,
            "carbohydrates_g": 26.8,
            "sodium_mg": 949.0
          },
          "actual_nutrients": {
            "calories_kcal": 17.55,
            "protein_g": 0.17,
            "carbohydrates_g": 4.02,
            "fat_g": 0.08,
            "fiber_g": null,
            "sugars_g": null,
            "sodium_mg": 142.35
          }
        }
      ],
      "dish_total_actual_nutrients": {
        "calories_kcal": 74.55,
        "protein_g": 2.82,
        "carbohydrates_g": 11.8,
        "fat_g": 1.68,
        "fiber_g": 0.54,
        "sugars_g": 0.94,
        "sodium_mg": 228.15
      }
    },
    {
      "dish_name": "Mixed Vegetables",
      "type": "Side dish",
      "quantity_on_plate": "Small serving",
      "estimated_total_dish_weight_g": 90.0,
      "actual_weight_used_for_calculation_g": 90.0,
      "weight_calculation_method": "ingredient_level戦略により材料重量合計を使用: 90.0g",
      "calculation_strategy": "ingredient_level",
      "reason_for_strategy": "Composed of several distinct vegetables; ingredient-level calculation provides better accuracy for each component.",
      "fdc_id": 0,
      "usda_source_description": null,
      "reason_for_choice": null,
      "key_nutrients_per_100g": null,
      "ingredients": [
        {
          "ingredient_name": "Green beans",
          "weight_g": 25.0,
          "fdc_id": 169141,
          "usda_source_description": "Beans, snap, green, cooked, boiled, drained, without salt",
          "reason_for_choice": "Selected FDC ID 169141 (Beans, snap, green, cooked, boiled, drained, without salt) because: (1) It is an SR Legacy entry, ensuring high data quality. (2) It is a precise match for the query 'Green beans, cooked, boiled, drained, without salt', aligning perfectly with the preparation and state of the green beans observed in the mixed vegetables. (3) This choice accurately reflects the cooked and unseasoned nature of the vegetable component.",
          "key_nutrients_per_100g": {
            "calories_kcal": 35.0,
            "protein_g": 1.89,
            "fat_g": 0.28,
            "carbohydrates_g": 7.88,
            "fiber_g": 3.2,
            "sugars_g": 3.63,
            "sodium_mg": 1.0
          },
          "actual_nutrients": {
            "calories_kcal": 8.75,
            "protein_g": 0.47,
            "carbohydrates_g": 1.97,
            "fat_g": 0.07,
            "fiber_g": 0.8,
            "sugars_g": 0.91,
            "sodium_mg": 0.25
          }
        },
        {
          "ingredient_name": "Carrots",
          "weight_g": 25.0,
          "fdc_id": 170394,
          "usda_source_description": "Carrots, cooked, boiled, drained, without salt",
          "reason_for_choice": "Selected FDC ID 170394 (Carrots, cooked, boiled, drained, without salt) because: (1) It is an SR Legacy entry, providing reliable data. (2) It is a direct and accurate match for the query 'Carrots, cooked, boiled, drained, without salt', which corresponds to the cooked carrots in the mixed vegetable blend. (3) The 'without salt' specification is important for accurate nutrient tracking, and this FDC ID meets that criterion.",
          "key_nutrients_per_100g": {
            "calories_kcal": 35.0,
            "protein_g": 0.76,
            "fat_g": 0.18,
            "carbohydrates_g": 8.22,
            "fiber_g": 3.0,
            "sugars_g": 3.45,
            "sodium_mg": 58.0
          },
          "actual_nutrients": {
            "calories_kcal": 8.75,
            "protein_g": 0.19,
            "carbohydrates_g": 2.06,
            "fat_g": 0.04,
            "fiber_g": 0.75,
            "sugars_g": 0.86,
            "sodium_mg": 14.5
          }
        },
        {
          "ingredient_name": "Corn",
          "weight_g": 20.0,
          "fdc_id": 169999,
          "usda_source_description": "Corn, sweet, yellow, cooked, boiled, drained, without salt",
          "reason_for_choice": "Selected FDC ID 169999 (Corn, sweet, yellow, cooked, boiled, drained, without salt) because: (1) It is an SR Legacy entry, ensuring high data quality. (2) It is a precise match for the query 'Corn, sweet, yellow, cooked, boiled, drained, without salt', accurately representing the type and preparation of corn in the mixed vegetables. (3) This FDC ID captures the cooked state and lack of added salt, which is crucial for accurate nutritional assessment.",
          "key_nutrients_per_100g": {
            "calories_kcal": 96.0,
            "protein_g": 3.41,
            "fat_g": 1.5,
            "carbohydrates_g": 20.98,
            "fiber_g": 2.4,
            "sugars_g": 4.54,
            "sodium_mg": 1.0
          },
          "actual_nutrients": {
            "calories_kcal": 19.2,
            "protein_g": 0.68,
            "carbohydrates_g": 4.2,
            "fat_g": 0.3,
            "fiber_g": 0.48,
            "sugars_g": 0.91,
            "sodium_mg": 0.2
          }
        },
        {
          "ingredient_name": "Peas",
          "weight_g": 20.0,
          "fdc_id": 170420,
          "usda_source_description": "Peas, green, cooked, boiled, drained, without salt",
          "reason_for_choice": "Selected FDC ID 170420 (Peas, green, cooked, boiled, drained, without salt) because: (1) It is an SR Legacy entry, providing reliable data for a basic food item. (2) It is a direct and accurate match for the query 'Peas, green, cooked, boiled, drained, without salt', reflecting the type and preparation of peas in the mixed vegetables. (3) The 'without salt' detail is important for precise nutritional calculation, and this FDC ID fits the requirement.",
          "key_nutrients_per_100g": {
            "calories_kcal": 84.0,
            "protein_g": 5.36,
            "fat_g": 0.22,
            "carbohydrates_g": 15.63,
            "fiber_g": 5.5,
            "sugars_g": 5.93,
            "sodium_mg": 3.0
          },
          "actual_nutrients": {
            "calories_kcal": 16.8,
            "protein_g": 1.07,
            "carbohydrates_g": 3.13,
            "fat_g": 0.04,
            "fiber_g": 1.1,
            "sugars_g": 1.19,
            "sodium_mg": 0.6
          }
        }
      ],
      "dish_total_actual_nutrients": {
        "calories_kcal": 53.5,
        "protein_g": 2.41,
        "carbohydrates_g": 11.36,
        "fat_g": 0.45,
        "fiber_g": 3.13,
        "sugars_g": 3.87,
        "sodium_mg": 15.55
      }
    },
    {
      "dish_name": "Spanish Rice",
      "type": "Side dish",
      "quantity_on_plate": "Medium serving",
      "estimated_total_dish_weight_g": 180.0,
      "actual_weight_used_for_calculation_g": 180.0,
      "weight_calculation_method": "Phase1推定dish重量を使用: 180.0g (材料合計: 180.0g)",
      "calculation_strategy": "dish_level",
      "reason_for_strategy": "Spanish rice is a common prepared dish with specific FDC entries available.",
      "fdc_id": 2594604,
      "usda_source_description": "SPANISH RICE",
      "reason_for_choice": "Selected FDC ID 2594604 (SPANISH RICE, Branded, Riviana Foods Inc.) because: (1) It is a branded entry with a high score and detailed ingredients (long grain rice, tomato paste, sunflower oil, onion powder, garlic powder) that closely match the expected composition of Spanish rice. (2) It represents a prepared dish, aligning with the 'dish_level' strategy. (3) While an SR Legacy 'Restaurant, Mexican, spanish rice' was available, this branded option provided more specific ingredient details that better reflect a typical home-prepared or commercially available Spanish rice, and had a higher score.",
      "key_nutrients_per_100g": {
        "sugars_g": 0.8,
        "sodium_mg": 440.0,
        "fat_g": 2.0,
        "fiber_g": 3.2,
        "calories_kcal": 144.0,
        "protein_g": 2.4,
        "carbohydrates_g": 29.6
      },
      "ingredients": [
        {
          "ingredient_name": "White rice",
          "weight_g": 120.0,
          "fdc_id": 0,
          "usda_source_description": "null",
          "reason_for_choice": "Ingredient FDC ID not selected as calculation is at dish level.",
          "key_nutrients_per_100g": null,
          "actual_nutrients": null
        },
        {
          "ingredient_name": "Tomato sauce",
          "weight_g": 30.0,
          "fdc_id": 0,
          "usda_source_description": "null",
          "reason_for_choice": "Ingredient FDC ID not selected as calculation is at dish level.",
          "key_nutrients_per_100g": null,
          "actual_nutrients": null
        },
        {
          "ingredient_name": "Oil",
          "weight_g": 10.0,
          "fdc_id": 0,
          "usda_source_description": "null",
          "reason_for_choice": "Ingredient FDC ID not selected as calculation is at dish level.",
          "key_nutrients_per_100g": null,
          "actual_nutrients": null
        },
        {
          "ingredient_name": "Broth",
          "weight_g": 10.0,
          "fdc_id": 0,
          "usda_source_description": "null",
          "reason_for_choice": "Ingredient FDC ID not selected as calculation is at dish level.",
          "key_nutrients_per_100g": null,
          "actual_nutrients": null
        },
        {
          "ingredient_name": "Seasonings",
          "weight_g": 10.0,
          "fdc_id": 0,
          "usda_source_description": "null",
          "reason_for_choice": "Ingredient FDC ID not selected as calculation is at dish level.",
          "key_nutrients_per_100g": null,
          "actual_nutrients": null
        }
      ],
      "dish_total_actual_nutrients": {
        "calories_kcal": 259.2,
        "protein_g": 4.32,
        "carbohydrates_g": 53.28,
        "fat_g": 3.6,
        "fiber_g": 5.76,
        "sugars_g": 1.44,
        "sodium_mg": 792.0
      }
    },
    {
      "dish_name": "Mashed Potatoes",
      "type": "Side dish",
      "quantity_on_plate": "Medium serving",
      "estimated_total_dish_weight_g": 170.0,
      "actual_weight_used_for_calculation_g": 170.0,
      "weight_calculation_method": "Phase1推定dish重量を使用: 170.0g (材料合計: 170.0g)",
      "calculation_strategy": "dish_level",
      "reason_for_strategy": "Mashed potatoes are a standard prepared dish with many specific FDC entries.",
      "fdc_id": 2038561,
      "usda_source_description": "MASHED POTATOES",
      "reason_for_choice": "Selected FDC ID 2038561 (MASHED POTATOES, Branded, Bob Evans Farms Inc) because: (1) Its ingredient list (POTATOES, MILK, BUTTER, MARGARINE) perfectly matches the 'home-prepared, whole milk and butter added' description from the query. (2) It is a branded product with a high score, indicating a comprehensive nutritional profile for a common prepared food. (3) This FDC ID accurately represents the typical composition of mashed potatoes as seen in the image, providing a strong compositional match over other less specific or irrelevant candidates.",
      "key_nutrients_per_100g": {
        "protein_g": 2.42,
        "sugars_g": 1.61,
        "calories_kcal": 121.0,
        "fat_g": 6.45,
        "carbohydrates_g": 15.32,
        "sodium_mg": 331.0,
        "fiber_g": 1.6
      },
      "ingredients": [
        {
          "ingredient_name": "Potatoes",
          "weight_g": 150.0,
          "fdc_id": 0,
          "usda_source_description": "null",
          "reason_for_choice": "Ingredient FDC ID not selected as calculation is at dish level.",
          "key_nutrients_per_100g": null,
          "actual_nutrients": null
        },
        {
          "ingredient_name": "Milk",
          "weight_g": 10.0,
          "fdc_id": 0,
          "usda_source_description": "null",
          "reason_for_choice": "Ingredient FDC ID not selected as calculation is at dish level.",
          "key_nutrients_per_100g": null,
          "actual_nutrients": null
        },
        {
          "ingredient_name": "Butter",
          "weight_g": 10.0,
          "fdc_id": 0,
          "usda_source_description": "null",
          "reason_for_choice": "Ingredient FDC ID not selected as calculation is at dish level.",
          "key_nutrients_per_100g": null,
          "actual_nutrients": null
        }
      ],
      "dish_total_actual_nutrients": {
        "calories_kcal": 205.7,
        "protein_g": 4.11,
        "carbohydrates_g": 26.04,
        "fat_g": 10.96,
        "fiber_g": 2.72,
        "sugars_g": 2.74,
        "sodium_mg": 562.7
      }
    },
    {
      "dish_name": "Macaroni and Cheese",
      "type": "Side dish",
      "quantity_on_plate": "Medium serving",
      "estimated_total_dish_weight_g": 190.0,
      "actual_weight_used_for_calculation_g": 190.0,
      "weight_calculation_method": "Phase1推定dish重量を使用: 190.0g (材料合計: 190.0g)",
      "calculation_strategy": "dish_level",
      "reason_for_strategy": "Macaroni and cheese is a very common prepared dish with numerous FDC entries, including various preparations.",
      "fdc_id": 2618433,
      "usda_source_description": "MACARONI AND CHEESE",
      "reason_for_choice": "Selected FDC ID 2618433 (MACARONI AND CHEESE, Branded, Conagra Frozen Foods) because: (1) Its ingredients (enriched macaroni, cheddar cheese) are highly representative of a standard macaroni and cheese dish, aligning well with the visual evidence. (2) It is a branded product with a high score, suggesting a complete and reliable nutritional profile for a prepared dish. (3) This FDC ID provides a strong compositional match for the dish as a whole, which is consistent with the 'dish_level' calculation strategy, and was preferred over less specific SR Legacy or mix-based options.",
      "key_nutrients_per_100g": {
        "sodium_mg": 370.0,
        "calories_kcal": 102.0,
        "carbohydrates_g": 14.34,
        "sugars_g": 1.51,
        "fat_g": 3.4,
        "protein_g": 3.4,
        "fiber_g": 1.1
      },
      "ingredients": [
        {
          "ingredient_name": "Macaroni pasta",
          "weight_g": 100.0,
          "fdc_id": 0,
          "usda_source_description": "null",
          "reason_for_choice": "Ingredient FDC ID not selected as calculation is at dish level.",
          "key_nutrients_per_100g": null,
          "actual_nutrients": null
        },
        {
          "ingredient_name": "Cheese sauce",
          "weight_g": 90.0,
          "fdc_id": 0,
          "usda_source_description": "null",
          "reason_for_choice": "Ingredient FDC ID not selected as calculation is at dish level.",
          "key_nutrients_per_100g": null,
          "actual_nutrients": null
        }
      ],
      "dish_total_actual_nutrients": {
        "calories_kcal": 193.8,
        "protein_g": 6.46,
        "carbohydrates_g": 27.25,
        "fat_g": 6.46,
        "fiber_g": 2.09,
        "sugars_g": 2.87,
        "sodium_mg": 703.0
      }
    }
  ],
  "total_meal_nutrients": {
    "calories_kcal": 786.75,
    "protein_g": 20.12,
    "carbohydrates_g": 129.73,
    "fat_g": 23.15,
    "fiber_g": 14.24,
    "sugars_g": 11.86,
    "sodium_mg": 2301.4
  },
  "warnings": [
    "Missing FDC ID for ingredient 'Ground beef' - no suitable fallback found",
    "Missing FDC ID for ingredient 'Ground beef'"
  ],
  "errors": null
}